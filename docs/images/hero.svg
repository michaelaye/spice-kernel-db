<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 320" font-family="'Segoe UI', system-ui, -apple-system, sans-serif">
  <defs>
    <!-- Background gradient -->
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0d1b2a"/>
      <stop offset="100%" stop-color="#1b2838"/>
    </linearGradient>
    <!-- Accent gradient for the database -->
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#f0a500"/>
      <stop offset="100%" stop-color="#d4800e"/>
    </linearGradient>
    <!-- Hash glow -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <!-- Subtle orbit ring -->
    <linearGradient id="orbitGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#3a86ff" stop-opacity="0"/>
      <stop offset="30%" stop-color="#3a86ff" stop-opacity="0.3"/>
      <stop offset="70%" stop-color="#3a86ff" stop-opacity="0.3"/>
      <stop offset="100%" stop-color="#3a86ff" stop-opacity="0"/>
    </linearGradient>
    <!-- Kernel file gradient -->
    <linearGradient id="kernelGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#415a77"/>
      <stop offset="100%" stop-color="#2b3e50"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="320" rx="12" fill="url(#bg)"/>

  <!-- Decorative orbit ellipses -->
  <ellipse cx="520" cy="160" rx="220" ry="120" fill="none" stroke="url(#orbitGrad)" stroke-width="1" stroke-dasharray="6 4"/>
  <ellipse cx="520" cy="160" rx="170" ry="90" fill="none" stroke="url(#orbitGrad)" stroke-width="0.8" stroke-dasharray="4 6" transform="rotate(-12 520 160)"/>

  <!-- Small planet dots on orbits -->
  <circle cx="710" cy="100" r="4" fill="#8ecae6" opacity="0.7"/>
  <circle cx="340" cy="210" r="3" fill="#e07a5f" opacity="0.6"/>
  <circle cx="620" cy="55" r="3.5" fill="#81b29a" opacity="0.6"/>

  <!-- === LEFT SIDE: Kernel files === -->

  <!-- SPK file -->
  <g transform="translate(60, 50)">
    <rect width="90" height="56" rx="6" fill="url(#kernelGrad)" stroke="#5e81ac" stroke-width="1.2"/>
    <rect width="90" height="18" rx="6" fill="#5e81ac" opacity="0.5"/>
    <rect y="6" width="90" height="12" fill="#5e81ac" opacity="0.5"/>
    <text x="45" y="13" text-anchor="middle" fill="#d8dee9" font-size="10" font-weight="600">.bsp</text>
    <text x="45" y="38" text-anchor="middle" fill="#8fbcbb" font-size="9" font-weight="500">SPK</text>
    <text x="45" y="50" text-anchor="middle" fill="#6b7f97" font-size="7">ephemeris</text>
  </g>

  <!-- CK file -->
  <g transform="translate(60, 125)">
    <rect width="90" height="56" rx="6" fill="url(#kernelGrad)" stroke="#a3be8c" stroke-width="1.2"/>
    <rect width="90" height="18" rx="6" fill="#a3be8c" opacity="0.4"/>
    <rect y="6" width="90" height="12" fill="#a3be8c" opacity="0.4"/>
    <text x="45" y="13" text-anchor="middle" fill="#d8dee9" font-size="10" font-weight="600">.bc</text>
    <text x="45" y="38" text-anchor="middle" fill="#a3be8c" font-size="9" font-weight="500">CK</text>
    <text x="45" y="50" text-anchor="middle" fill="#6b7f97" font-size="7">pointing</text>
  </g>

  <!-- LSK file -->
  <g transform="translate(60, 200)">
    <rect width="90" height="56" rx="6" fill="url(#kernelGrad)" stroke="#b48ead" stroke-width="1.2"/>
    <rect width="90" height="18" rx="6" fill="#b48ead" opacity="0.4"/>
    <rect y="6" width="90" height="12" fill="#b48ead" opacity="0.4"/>
    <text x="45" y="13" text-anchor="middle" fill="#d8dee9" font-size="10" font-weight="600">.tls</text>
    <text x="45" y="38" text-anchor="middle" fill="#b48ead" font-size="9" font-weight="500">LSK</text>
    <text x="45" y="50" text-anchor="middle" fill="#6b7f97" font-size="7">leap seconds</text>
  </g>

  <!-- FK file -->
  <g transform="translate(25, 270)">
    <rect width="72" height="36" rx="5" fill="url(#kernelGrad)" stroke="#d08770" stroke-width="1" opacity="0.7"/>
    <text x="36" y="15" text-anchor="middle" fill="#d8dee9" font-size="9" font-weight="600">.tf</text>
    <text x="36" y="28" text-anchor="middle" fill="#d08770" font-size="8">FK</text>
  </g>

  <!-- PCK file -->
  <g transform="translate(110, 270)">
    <rect width="72" height="36" rx="5" fill="url(#kernelGrad)" stroke="#ebcb8b" stroke-width="1" opacity="0.7"/>
    <text x="36" y="15" text-anchor="middle" fill="#d8dee9" font-size="9" font-weight="600">.tpc</text>
    <text x="36" y="28" text-anchor="middle" fill="#ebcb8b" font-size="8">PCK</text>
  </g>

  <!-- === ARROWS: kernels → SHA-256 === -->
  <g stroke="#4a90a4" stroke-width="1.5" fill="none" opacity="0.6">
    <path d="M155,78 C200,78 210,130 240,130" marker-end="url(#arrow)"/>
    <path d="M155,153 L240,153"/>
    <path d="M155,228 C200,228 210,175 240,175" marker-end="url(#arrow)"/>
  </g>
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#4a90a4"/>
    </marker>
  </defs>

  <!-- === CENTER: SHA-256 hash funnel === -->
  <g transform="translate(245, 115)">
    <rect width="120" height="70" rx="10" fill="#1a2744" stroke="#4a90a4" stroke-width="1.5"/>
    <text x="60" y="22" text-anchor="middle" fill="#4a90a4" font-size="10" font-weight="600">SHA-256</text>
    <text x="60" y="40" text-anchor="middle" fill="#88c0d0" font-size="8" font-family="monospace">a3f7c2...</text>
    <text x="60" y="52" text-anchor="middle" fill="#88c0d0" font-size="8" font-family="monospace">e91b04...</text>
    <text x="60" y="64" text-anchor="middle" fill="#6b7f97" font-size="8" font-family="monospace">b2d8f1...</text>
  </g>

  <!-- === ARROW: hash → database === -->
  <g stroke="#f0a500" stroke-width="2" fill="none" opacity="0.7">
    <path d="M370,150 L430,150" marker-end="url(#arrow2)"/>
  </g>
  <defs>
    <marker id="arrow2" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#f0a500"/>
    </marker>
  </defs>

  <!-- === RIGHT SIDE: Database cylinder === -->
  <g transform="translate(440, 70)">
    <!-- Cylinder body -->
    <rect x="0" y="20" width="130" height="130" rx="4" fill="#1a2744" stroke="url(#dbGrad)" stroke-width="2"/>
    <!-- Cylinder top ellipse -->
    <ellipse cx="65" cy="22" rx="65" ry="18" fill="#1a2744" stroke="url(#dbGrad)" stroke-width="2"/>
    <!-- Cylinder bottom ellipse -->
    <ellipse cx="65" cy="150" rx="65" ry="18" fill="none" stroke="url(#dbGrad)" stroke-width="2"/>
    <!-- Internal shelf lines -->
    <ellipse cx="65" cy="65" rx="58" ry="10" fill="none" stroke="#f0a500" stroke-width="0.7" opacity="0.3"/>
    <ellipse cx="65" cy="108" rx="58" ry="10" fill="none" stroke="#f0a500" stroke-width="0.7" opacity="0.3"/>

    <!-- DB icon label — above top ellipse -->
    <text x="65" y="0" text-anchor="middle" fill="#f0a500" font-size="9" font-weight="600" letter-spacing="1">DuckDB</text>

    <!-- Table labels inside -->
    <text x="65" y="48" text-anchor="middle" fill="#d8dee9" font-size="9" font-weight="500">kernels</text>
    <text x="65" y="82" text-anchor="middle" fill="#a8b5c4" font-size="9">locations</text>
    <text x="65" y="96" text-anchor="middle" fill="#a8b5c4" font-size="9">metakernels</text>
    <text x="65" y="130" text-anchor="middle" fill="#6b7f97" font-size="8">content-addressed</text>
  </g>

  <!-- === Dedup indicator === -->
  <g transform="translate(600, 85)">
    <rect width="140" height="55" rx="8" fill="#1a2744" stroke="#81b29a" stroke-width="1.2"/>
    <text x="70" y="20" text-anchor="middle" fill="#81b29a" font-size="10" font-weight="600">deduplicated</text>
    <text x="70" y="36" text-anchor="middle" fill="#6b917e" font-size="9">3 missions</text>
    <text x="70" y="48" text-anchor="middle" fill="#6b917e" font-size="9">1 copy each</text>
  </g>

  <!-- Mission-aware resolution indicator -->
  <g transform="translate(600, 165)">
    <rect width="140" height="55" rx="8" fill="#1a2744" stroke="#e07a5f" stroke-width="1.2"/>
    <text x="70" y="20" text-anchor="middle" fill="#e07a5f" font-size="10" font-weight="600">mission-aware</text>
    <text x="70" y="36" text-anchor="middle" fill="#a0685a" font-size="9">JUICE &gt; generic</text>
    <text x="70" y="48" text-anchor="middle" fill="#a0685a" font-size="9">fallback + warn</text>
  </g>

  <!-- Metakernel rewrite indicator -->
  <g transform="translate(600, 245)">
    <rect width="140" height="55" rx="8" fill="#1a2744" stroke="#88c0d0" stroke-width="1.2"/>
    <text x="70" y="20" text-anchor="middle" fill="#88c0d0" font-size="10" font-weight="600">mk rewrite</text>
    <text x="70" y="36" text-anchor="middle" fill="#6b97a4" font-size="9">minimal edits</text>
    <text x="70" y="48" text-anchor="middle" fill="#6b97a4" font-size="9">symlink trees</text>
  </g>

  <!-- Connectors from DB to features -->
  <g stroke="#4a5568" stroke-width="1" fill="none" opacity="0.5">
    <line x1="572" y1="115" x2="600" y2="112"/>
    <line x1="572" y1="155" x2="600" y2="192"/>
    <line x1="572" y1="175" x2="600" y2="272"/>
  </g>

</svg>
